if (self.CavalryLogger) { CavalryLogger.start_js(["DgIsr"]); }

__d('UFIPagerGenerator',['fbt','NumberFormat','React','TrackingNodes','UFIConstants','UFIOrderingModeStore','UFIPager.react','UFIPagerLabel','UFIRange'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('UFIConstants').UFIPaging,j={isBottomPager:function k(l,m){return c('UFIOrderingModeStore').isInverted(m)&&!l;},needsStartOfRangePager:function k(l){return l>0;},renderPagers:function k(l){var m,n,o,p=l.commentCount,q=l.contextArgs,r=l.currentLength,s=l.currentOffset,t=l.deletedCount,u=l.feedback,v=l.onPageCallback,w=l.orderingMode,x=l.range,y=l.targetID,z=p-t,aa=r-t,ba=y!==q.ftentidentifier,ca=this.isBottomPager(ba,w),da={topPager:null,bottomPager:null},ea=false;if(q.isaskquestion)ea=q.isaskquestion;var fa=x.isLoadingPrev(),ga=x.isLoadingNext(),ha={count:0},ia=u.commentsentenceinfo;if(ia){ha.commenters=ia.explicit_commenter_names;ha.othersCount=ia.other_commenter_count;}var ja=s+r==p;if(p<q.pagesize&&ja||aa===0){var m=function(){var ma=Math.min(p,q.pagesize),na=function sa(){return v(ca?i.BOTTOM:i.TOP,new (c('UFIRange'))(p-ma,ma));},oa=void 0;if(aa===0){if(z==1){oa=c('UFIPagerLabel').VIEW_ONE;}else{ha.count=z;oa=c('UFIPagerLabel').VIEW_ALL;}}else if(z-aa==1){oa=c('UFIPagerLabel').VIEW_ONE_MORE;}else{oa=c('UFIPagerLabel').VIEW_MORE_EXPLICIT;ha.count=z-aa;}var pa=c('TrackingNodes').getTrackingInfo(c('TrackingNodes').types.VIEW_ALL_COMMENTS),qa=c('UFIPagerLabel').getLabel(oa,ba,Boolean(u.isqanda),Boolean(ea),ha),ra=c('React').createElement(c('UFIPager.react'),{key:'allPager'+y,ref:ca?'topLevelBottomPager':null,contextArgs:q,isUnseen:u.hasunseencollapsed,isLoading:ca?ga:fa,isReply:ba,pagerLabel:qa,onPagerClick:na,'data-ft':pa});if(ca){da.bottomPager=ra;}else da.topPager=ra;return {v:da};}();if(typeof m==="object")return m.v;}var ka=c('UFIPagerLabel').getLabel(c('UFIPagerLabel').VIEW_MORE,ba,Boolean(u.isqanda),Boolean(ea),ha),la=c('UFIPagerLabel').getLabel(c('UFIPagerLabel').VIEW_PREVIOUS,ba,Boolean(u.isqanda),Boolean(ea),ha);if(this.needsStartOfRangePager(s))(function(){var ma=Math.max(s-q.pagesize,0),na=s+r-ma,oa=void 0;if(!ba||aa>1){var pa=c('NumberFormat').formatInteger(aa),qa=c('NumberFormat').formatInteger(z);oa=h._("{countshown} of {totalcount}",[h.param('countshown',pa),h.param('totalcount',qa)]);}var ra=function sa(){return v(ca?i.BOTTOM:i.TOP,new (c('UFIRange'))(ma,na));};if(ca){da.bottomPager=c('React').createElement(c('UFIPager.react'),{key:'bottomPager'+y,ref:!ba?'topLevelBottomPager':null,contextArgs:q,isLoading:fa,isReply:ba,pagerLabel:ka,onPagerClick:ra,countSentence:oa});}else da.topPager=c('React').createElement(c('UFIPager.react'),{key:'topPager'+y,contextArgs:q,isLoading:fa,isReply:ba,pagerLabel:la,onPagerClick:ra,countSentence:oa});})();if(s+r<p)(function(){var ma=Math.min(r+q.pagesize,p-s),na=function oa(){return v(ca?i.TOP:i.BOTTOM,new (c('UFIRange'))(s,ma));};if(ca){da.topPager=c('React').createElement(c('UFIPager.react'),{key:'topPager'+y,contextArgs:q,isLoading:ga,isReply:ba,pagerLabel:la,onPagerClick:na});}else da.bottomPager=c('React').createElement(c('UFIPager.react'),{key:'bottomPager',ref:!ba?'topLevelBottomPager':null,contextArgs:q,isLoading:ga,isReply:ba,pagerLabel:ka,onPagerClick:na});})();return da;}};f.exports=j;}),null);