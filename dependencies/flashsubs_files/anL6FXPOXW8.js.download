if (self.CavalryLogger) { CavalryLogger.start_js(["4FjfA"]); }

__d('bs_js_dict',[],(function a(b,c,d,e,f,g){'use strict';var h=function n(o,p){delete o[p];return 0;};function i(n){var o=Object.keys(n),p=o.length,q=new Array(p);for(var r=0,s=p-1|0;r<=s;++r){var t=o[r];q[r]=[t,n[t]];}return q;}function j(n){var o=Object.keys(n),p=o.length,q=new Array(p);for(var r=0,s=p-1|0;r<=s;++r)q[r]=n[o[r]];return q;}function k(n){var o={},p=n;while(true){var q=p;if(q){var r=q[0];o[r[0]]=r[1];p=q[1];continue;}else return o;}}function l(n){var o={},p=n.length;for(var q=0,r=p-1|0;q<=r;++q){var s=n[q];o[s[0]]=s[1];}return o;}function m(n,o){var p={},q=Object.keys(o),r=q.length;for(var s=0,t=r-1|0;s<=t;++s){var u=q[s];p[u]=n(o[u]);}return p;}g.unsafeDeleteKey=h;g.entries=i;g.values=j;g.fromList=k;g.fromArray=l;g.map=m;}),null);
__d("MessengerThreadlistWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1621142981229953";};j.getQueryID=function(){"use strict";return "506407796365245";};function j(){"use strict";h.apply(this,arguments);}return j;}();}),null);
__d('messengerGraphQLThreadlistFetcherRe',['Promise','bs_array','bs_js_dict','bs_caml_array','WebGraphQL','bs_caml_format','GenderConst','bs_js_primitive','messengerGraphQLThreadFetcherRe','messengerReadReceiptTransformerRe','MessengerThreadlistWebGraphQLQuery'],(function a(b,c,d,e,f,g){'use strict';function h(k){return new (c('MessengerThreadlistWebGraphQLQuery'))({limit:k.limit,before:k.timestamp,tags:k.tags});}function i(k){var l=k.gender,m;if(c('bs_js_primitive').is_nil_undef(l)){m=0;}else{var n=c('GenderConst')[l];m=n!==undefined?n:0;}var o=k.image_src,p=k.big_image_src,q=k.__typename,r;switch(q){case "Page":r="page";break;case "User":r="user";break;default:r=null;}var s=k.accepts_messenger_user_feedback,t=k.is_viewer_friend,u=k.is_messenger_user,v=k.is_verified,w=k.is_messenger_platform_bot,x=k.is_message_blocked_by_viewer;return {id:"fbid:"+k.id,fbid:k.id,gender:m,href:k.url,image_src:c('bs_js_primitive').is_nil_undef(o)?null:o.uri,big_image_src:c('bs_js_primitive').is_nil_undef(p)?null:p.uri,name:k.name,short_name:k.short_name,type:r,vanity:k.username,accepts_messenger_user_feedback:c('bs_js_primitive').is_nil_undef(s)?false:s,is_friend:c('bs_js_primitive').is_nil_undef(t)?false:t,is_messenger_user:c('bs_js_primitive').is_nil_undef(u)?false:u,is_business_enabled:k.__typename==="Page"?true:false,is_verified:c('bs_js_primitive').is_nil_undef(v)?false:v,is_messenger_platform_bot:c('bs_js_primitive').is_nil_undef(w)?false:w,is_messenger_blocked:c('bs_js_primitive').is_nil_undef(x)?false:x};}function j(k,l,m){var n=c('bs_array').map(h,l);return c('Promise').all(c('WebGraphQL').execAll(n,{actorID:m?k:null})).then(function(o){var p=[],q=[],r={},s=[],t={};c('bs_array').iteri(function(u,v){var w=c('bs_caml_array').caml_array_get(l,u),x=[],y=[],z=[];c('bs_array').iter(function(aa){if(c('bs_js_primitive').is_nil_undef(aa)){return 0;}else{var ba=c('messengerGraphQLThreadFetcherRe').transformThread(k,aa,m);c('bs_array').iter(function(ja){var ka=i(ja.messaging_actor);t[ka.fbid]=ka;return 0;},aa.all_participants.nodes);var ca;if(ba.is_canonical){var da=ba.other_user_fbid;if(c('bs_js_primitive').is_nil_undef(da)){ca=null;}else{x.push(da);ca=da;}}else{var ea=ba.thread_fbid;if(c('bs_js_primitive').is_nil_undef(ea)){ca=null;}else{y.push(ea);ca=ea;}}z.push(ba.thread_id);p.push(ba);var fa=aa.read_receipts;if(ca!==null)if(!c('bs_js_primitive').is_nil_undef(fa))r[ca]=c('messengerReadReceiptTransformerRe').transformReadReceipt(k,fa);var ga=aa.delivery_receipts;if(ca!==null){if(c('bs_js_primitive').is_nil_undef(ga)){return 0;}else{var ha=ga.nodes.sort(function(ja,ka){var la=c('bs_caml_format').caml_float_of_string(ja.timestamp_precise),ma=c('bs_caml_format').caml_float_of_string(ka.timestamp_precise);if(la>ma){return -1;}else if(la===ma){return 0;}else return 1;});if(ha.length<1){return 0;}else{var ia=c('bs_caml_array').caml_array_get(ha,0);if(ba.is_canonical){s.push({other_user_fbid:ca,thread_fbid:null,time:c('bs_caml_format').caml_float_of_string(ia.timestamp_precise)});return 0;}else{s.push({other_user_fbid:null,thread_fbid:ca,time:c('bs_caml_format').caml_float_of_string(ia.timestamp_precise)});return 0;}}}}else return 0;}},v.viewer.message_threads.nodes);q.push({start:w.offset,end:w.offset+w.limit|0,folder:w.folder,other_user_fbids:x,thread_fbids:y,thread_ids:z,filter:w.filter});return 0;},o);return {threads:p,ordered_threadlists:q,roger:r,delivery_receipts:s,participants:c('bs_js_dict').values(t)};});}g._getQuery=h;g._transformParticipant=i;g.fetchAll=j;}),null);