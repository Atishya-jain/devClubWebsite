if (self.CavalryLogger) { CavalryLogger.start_js(["j19a7"]); }

__d('messengerThreadlistRowActionsReact',['cx','fbt','bs_block','bs_curry','React','keysRe','utilsRe','MercuryIDs','AsyncDialog','CurrentUser','reasonReact','joinClasses','AsyncRequest','bs_js_primitive','MoveToWorkUtils','MercuryThreadIDMap','messengerDialogsRe','messengerMenuReact','MercuryParticipants','messengerMuteDialogReact','messengerBlockDialogReact','messengerPopoverMenuReact','messengerDeleteDialogReact','messengerMarkSpamDialogReact','messengerMoveToWorkplaceDialogReact','XNFXStartForMessageThreadController','mNCommerceReportConversationDialogReact'],(function a(b,c,d,e,f,g,h,i){'use strict';function j(r){if(r){return 0;}else return c('messengerDialogsRe').removeDialog(0);}function k(r){r.preventDefault();r.stopPropagation();return 0;}function l(r){if(r.length){return +r.every(function(s){var t=c('MercuryParticipants').getNow(s);if(c('bs_js_primitive').is_nil_undef(t)){return 0;}else return +t.employee;});}else return 0;}var m=c('reasonReact').statefulComponentWithRetainedProps("MessengerThreadlistRowActionsReact"),n="_5blh"+(' '+"_4-0h"),o="_5blh"+(' '+"_4-0h")+(' '+"_4-0i");function p(r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa){var ta=r?r[0]:"",ua=function ib(){return c('messengerDialogsRe').showDialog(function(){return c('reasonReact').element(0,0,c('messengerDeleteDialogReact').make(z,aa,j,[]));});},va=function ib(){if(v){return c('bs_curry')._1(ia,0);}else return c('messengerDialogsRe').showDialog(function(){return c('reasonReact').element(0,0,c('messengerMuteDialogReact').make(fa,j,[]));});},wa=function ib(){if(x){return c('bs_curry')._1(ca,0);}else return c('bs_curry')._1(ea,0);},xa=function ib(){return c('messengerDialogsRe').showDialog(function(){return c('reasonReact').element(0,0,c('messengerMarkSpamDialogReact').make(da,j,[]));});},ya=function ib(){if(y){return c('bs_curry')._1(ka,0);}else return c('messengerDialogsRe').showDialog(function(){return c('reasonReact').element(0,0,c('messengerBlockDialogReact').make(ja,j,s,[]));});},za=function ib(){return c('messengerDialogsRe').showDialog(function(){return c('reasonReact').element(0,0,c('messengerMoveToWorkplaceDialogReact').make(ra.thread_id,[]));});},ab=function ib(){var jb=c('MercuryThreadIDMap').get();jb.getServerIDFromClientID(ra.thread_id,function(kb){c('AsyncDialog').send(new (c('AsyncRequest'))(c('XNFXStartForMessageThreadController').getURIBuilder().setString("thread_fbid",kb).getURI()));return 0;});return 0;},bb=function ib(){var jb=ra.other_user_fbid;if(c('bs_js_primitive').is_nil_undef(jb)){return 0;}else return c('messengerDialogsRe').showDialog(function(){return c('reasonReact').element(0,0,c('mNCommerceReportConversationDialogReact').make(jb,[]));});},cb=function ib(){return [ya,ua,wa,xa,va,bb,ab,za,0];},db=function ib(jb,kb){c('bs_curry')._1(ha,true);var lb=cb(0).slice();return c('bs_block').__(0,[(lb[8]=1,lb)]);},eb=function ib(jb,kb){if(jb.keyCode===c('keysRe').$$return){c('bs_curry')._1(ha,true);var lb=cb(0).slice();return c('bs_block').__(0,[(lb[8]=1,lb)]);}else return 0;},fb=function ib(jb,kb){c('bs_curry')._1(ha,false);var lb=kb[4].slice();return c('bs_block').__(0,[(lb[8]=0,lb)]);},gb=function ib(jb,kb){var lb=kb[4],mb=lb[8];if(mb!==0){if(jb!==null){jb.showPopover();var nb=lb.slice();return c('bs_block').__(1,[(nb[8]=0,nb)]);}else return 0;}else return 0;},hb=m.slice();hb[8]=function(ib){var jb=ib[1],kb=ib[0];if(jb[5]||jb[5]!==kb[5]){return 1;}else return +(jb[4]!==kb[4]);};hb[9]=function(ib){var jb=ib[4],kb=ib[1];if(w){var lb=u!==0?t!==0?i._("Leave chat"):i._("Leave room"):i._("Leave Group"),mb=y!==0?i._("Unblock messages"):i._("Block messages"),nb=i._("Move to Workplace"),ob=c('utilsRe').isSomeTrue(oa),pb=ma||c('utilsRe').isSomeTrue(oa),qb=c('utilsRe').isSomeTrue(pa),rb=c('utilsRe').isSomeTrue(pa),sb=1- +c('CurrentUser').isWorkUser()&&na,tb=+c('MoveToWorkUtils').isViewerEligible()&&+c('MercuryIDs').isGroupChat(ra.thread_id)&&l(ra.participants),ub=c('reasonReact').element(0,0,c('bs_curry')._1(c('messengerMenuReact').Menu[0],[ma!==0?c('reasonReact').element(0,0,c('bs_curry')._5(c('messengerMenuReact').MenuItem[0],0,v!==0?i._("Unmute"):i._("Mute"),[jb[4]],0,[])):null,ob!==0?c('reasonReact').element(0,0,c('bs_curry')._5(c('messengerMenuReact').MenuItem[0],0,i._("Rename"),ga,0,[])):null,pb!==0?c('reasonReact').element(0,0,c('bs_curry')._1(c('messengerMenuReact').MenuSeparator[0],[])):null,la!==0?c('reasonReact').element(0,0,c('bs_curry')._5(c('messengerMenuReact').MenuItem[0],0,lb,ba,0,[])):null,c('reasonReact').element(0,0,c('bs_curry')._5(c('messengerMenuReact').MenuItem[0],0,i._("Archive"),[z],0,[])),c('reasonReact').element(0,0,c('bs_curry')._5(c('messengerMenuReact').MenuItem[0],0,i._("Delete"),[jb[1]],0,[])),c('reasonReact').element(0,0,c('bs_curry')._1(c('messengerMenuReact').MenuSeparator[0],[])),c('reasonReact').element(0,0,c('bs_curry')._5(c('messengerMenuReact').MenuItem[0],0,x!==0?i._("Mark as Read"):i._("Mark as Unread"),[jb[2]],0,[])),qb!==0?null:c('reasonReact').element(0,0,c('bs_curry')._5(c('messengerMenuReact').MenuItem[0],0,i._("Mark as Spam"),[jb[3]],0,[])),rb!==0?c('reasonReact').element(0,0,c('bs_curry')._5(c('messengerMenuReact').MenuItem[0],0,i._("Report..."),[jb[5]],0,[])):c('reasonReact').element(0,0,c('bs_curry')._5(c('messengerMenuReact').MenuItem[0],0,i._("Report Spam or Abuse..."),[jb[6]],0,[])),sb!==0?c('reasonReact').element(0,0,c('bs_curry')._5(c('messengerMenuReact').MenuItem[0],0,mb,[jb[0]],0,[])):null,tb!==0?c('reasonReact').element(0,0,c('bs_curry')._5(c('messengerMenuReact').MenuItem[0],0,nb,[jb[7]],0,[])):null])),vb=+(ta===""),wb=vb!==0?o:c('joinClasses')(ta,o);return c('React').createElement("div",{className:"_3d85"},c('reasonReact').element(0,[c('bs_curry')._1(kb,gb)],c('messengerPopoverMenuReact').make([1],[w],ub,[c('bs_curry')._1(kb,fb)],[c('bs_curry')._1(kb,db)],[c('React').cloneElement(c('React').createElement("div",{ref:"button",className:wb,role:"button",tabIndex:0,onClick:k}),{"aria-label":i._("Conversation actions")})])));}else{var xb=+(ta===""),yb=xb!==0?n:c('joinClasses')(ta,n);return c('React').createElement("div",{className:"_3d85"},c('React').createElement("div",{"aria-label":i._("Conversation actions"),className:yb,onClick:c('bs_curry')._1(kb,db),onKeyUp:c('bs_curry')._1(kb,eb),role:"button",ref:"button",tabIndex:qa}));}};hb[10]=cb;hb[11]=w;return hb;}var q=c('reasonReact').wrapReasonForJs(m,function(r){return p(c('bs_js_primitive').null_undefined_to_opt(r.className),c('bs_js_primitive').null_undefined_to_opt(r.contact),+r.isGroupChat,+r.isJoinableThread,+r.isMuted,+r.isOpen,+r.isUnread,+r.isBlocked,r.onArchive,r.onDelete,c('bs_js_primitive').null_undefined_to_opt(r.onLeaveGroup),r.onMarkRead,r.onMarkSpam,r.onMarkUnread,r.onMute,c('bs_js_primitive').null_undefined_to_opt(r.onRename),r.onToggle,r.onUnmute,r.onBlock,r.onUnblock,+r.showLeaveGroup,+r.showMute,+r.showBlock,c('utilsRe').nullUndefinedBooleanToOptionBool(r.showRename),c('utilsRe').nullUndefinedBooleanToOptionBool(r.showReport),r.tabIndex,r.thread,[]);});g.handleReasonDialogToggle=j;g.handleClick=k;g.isEmployeesOnly=l;g.component=m;g.actionButtonClassesClosed=n;g.actionButtonClassesOpen=o;g.make=p;g.jsComponent=q;}),null);