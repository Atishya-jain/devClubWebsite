if (self.CavalryLogger) { CavalryLogger.start_js(["SSe+k"]); }

__d('messengerInfoPanelThreadNameSectionReact',['cx','fbt','bs_block','bs_curry','React','keysRe','bs_string','bs_js_boolean','reasonReact','setImmediate','messengerButtonReact','messengerSpinnerReact','MercuryGenericConstants','mercuryThreadTitleReact','messengerTextWithEmojiInputReact','messengerThreadPhotoUploaderReact'],(function a(b,c,d,e,f,g,h,i){'use strict';function j(s,t){var u=t[4][1];if(u){return u[0].focusInput();}else return 0;}function k(){return c('React').createElement("div",{className:"_2jnw"},c('reasonReact').element(0,0,c('messengerSpinnerReact').make(0,0,0,[])));}function l(s,t){return c('bs_block').__(0,[[0,t[1],t[2]]]);}function m(s,t){return c('bs_block').__(0,[[1,t[1],t[2]]]);}function n(s,t){var u=t[4][2];if(u){return u[0].focus();}else return 0;}function o(s,t){t[4][1]=s===null?0:[s];return 0;}function p(s,t){t[4][2]=s===null?0:[s];return 0;}var q=c('reasonReact').statefulComponentWithRetainedProps("MessengerInfoPanelThreadNameSectionReact");function r(s,t,u,v,w,x,y,z,aa){var ba=function ia(ja,ka){c('bs_curry')._1(u,[w.thread_id,ja]);return c('bs_block').__(0,[[0,ka[1],ka[2]]]);},ca=function ia(ja,ka){ja.stopPropagation();var la=ka[4][1];if(la)c('bs_curry')._1(t,c('bs_string').trim(la[0].getValue()));return c('bs_curry')._1(c('setImmediate'),c('bs_curry')._1(ka[0],n));},da=function ia(ja,ka){if(ja.currentTarget.contains(ja.relatedTarget)){ja.stopPropagation();return 0;}else if(y>=2){return c('bs_curry')._1(x,0);}else return c('bs_curry')._1(x,1);},ea=function ia(ja){return c('React').createElement("div",{className:"_2jnx",onBlur:c('bs_curry')._1(ja[0],da)},c('React').createElement("div",{className:"_2jny"},c('reasonReact').element(0,[c('bs_curry')._1(ja[0],o)],c('messengerTextWithEmojiInputReact').make(["_2jnz"],[c('bs_curry')._1(ja[0],ca)],[c('MercuryGenericConstants').MAX_THREAD_NAME_LENGTH],0,[i._("Name this conversation")],[w.name],[]))),c('React').createElement("div",{className:"_2jn-"},c('reasonReact').element(0,0,c('messengerButtonReact').make(0,["button"],0,0,[c('bs_curry')._1(ja[0],ca)],0,0,0,0,i._("Done"),0,0,0,0,[]))));},fa=function ia(ja,ka){ja.stopPropagation();if(s!==0&&y===1){return c('bs_curry')._1(x,0);}else return 0;},ga=function ia(ja,ka){var la=ja.charCode;if(y!==1||!(la===c('keysRe').$$return||la===c('keysRe').space)){return 0;}else{ja.preventDefault();ja.stopPropagation();if(s){return c('bs_curry')._1(x,0);}else return 0;}},ha=q.slice();ha[3]=function(ia){var ja=ia[4],ka=+(ia[5][1]!==w);return [ka!==0?0:ja[0],ja[1],ja[2]];};ha[5]=function(ia){var ja=ia[0],ka=ja[5][0];if(ka!==1||y===1){return 0;}else{setTimeout(c('bs_curry')._1(ja[0],j),1);return 0;}};ha[9]=function(ia){var ja=ia[4],ka=y!==1?1:0,la=ja[0];return c('React').createElement("div",{className:"_2jnq"},c('React').createElement("div",{className:"_2jnr"+(c('bs_js_boolean').to_js_boolean(ja[0])?' '+"_2jns":'')},v,la!==0?k(0):null,s!==0?c('reasonReact').element(0,0,c('messengerThreadPhotoUploaderReact').make(c('bs_curry')._1(ia[2],ba),[c('bs_curry')._1(ia[2],l)],[c('bs_curry')._1(ia[2],m)],0,[])):null),c('React').createElement("div",{ref:c('bs_curry')._1(ia[0],p),className:"_2jnt"+(c('bs_js_boolean').to_js_boolean(1-ka)?' '+"_1sw_":'')+(c('bs_js_boolean').to_js_boolean(1-s)?' '+"disabled":''),role:ka!==0?"":"button",tabIndex:0,onKeyPress:c('bs_curry')._1(ia[0],ga),onClick:c('bs_curry')._1(ia[0],fa)},c('React').createElement("div",{className:"_2jnu"},ka!==0?ea(ia):c('reasonReact').element(0,0,c('mercuryThreadTitleReact').make(["_2jnv"],w,z,0,[0],[0],0,[])))));};ha[10]=function(){return [0,0,0];};ha[11]=[y,w];return ha;}g.focusThreadNameInput=j;g.renderSpinner=k;g.handleThreadPhotoUploadFail=l;g.handleThreadPhotoUploadStart=m;g.focusEditThreadNameButton=n;g.setRefThreadNameInput=o;g.setRefEditThreadNameButton=p;g.component=q;g.make=r;}),null);