if (self.CavalryLogger) { CavalryLogger.start_js(["QdklE"]); }

__d('DialogHideOnSuccess',['csx','cx','CSS'],(function a(b,c,d,e,f,g,h,i){function j(k){'use strict';this._layer=k;}j.prototype.enable=function(){'use strict';this._subscription=this._layer.subscribe('success',this._handle.bind(this));};j.prototype.disable=function(){'use strict';this._subscription.unsubscribe();this._subscription=null;};j.prototype._handle=function(k,event){'use strict';if(c('CSS').matchesSelector(event.getTarget(),"._s"))this._layer.hide();};Object.assign(j.prototype,{_subscription:null});f.exports=j;}),null);
__d('FormSubmit',['AsyncRequest','AsyncResponse','CSS','DOMQuery','Event','Form','Parent','trackReferrer'],(function a(b,c,d,e,f,g){var h={send:function i(j,k){var l=(c('Form').getAttribute(j,'method')||'GET').toUpperCase(),m=k&&c('Parent').byTag(k,'button')||k,n=m&&c('Parent').byClass(m,'stat_elem')||j;if(c('CSS').hasClass(n,'async_saving'))return null;if(m&&(m.form!==j||m.nodeName!='INPUT'&&m.nodeName!='BUTTON'||m.type!='submit')){var o=c('DOMQuery').scry(j,'.enter_submit_target')[0];o&&(m=o);}var p=c('Form').serialize(j,m);c('Form').setDisabled(j,true);var q=c('Form').getAttribute(j,'ajaxify')||c('Form').getAttribute(j,'action'),r=!!c('Form').getAttribute(j,'data-cors');c('trackReferrer')(j,q);var s=new (c('AsyncRequest'))().setAllowCrossOrigin(r).setURI(q).setData(p).setNectarModuleDataSafe(j).setReadOnly(l=='GET').setMethod(l).setRelativeTo(j).setStatusElement(n).setInitialHandler(c('Form').setDisabled.bind(null,j,false)).setHandler(function(t){c('Event').fire(j,'success',{response:t});}).setErrorHandler(function(t){if(c('Event').fire(j,'error',{response:t})!==false)c('AsyncResponse').defaultErrorHandler(t);}).setFinallyHandler(c('Form').setDisabled.bind(null,j,false));s.send();return s;}};f.exports=h;}),null);
__d('highlight',['Animation','Style'],(function a(b,c,d,e,f,g){function h(i,j,k,l){new (c('Animation'))(i).from('background',l||'#fff9d7').to('background',k||'#fff').ease(c('Animation').ease.both).duration(2000).ondone(function(){c('Style').set(i,'background','');j&&j();}).go();}f.exports=h;}),null);
__d('WebAfroStartDialog',['csx','fbt','Arbiter','AsyncRequest','CSS','DataAttributeUtils','DOM','DOMQuery','Event','FormSubmit','Parent','SubscriptionsHandler'],(function a(b,c,d,e,f,g,h,i){function j(k,l){'use strict';this.$WebAfroStartDialog1=k;this.$WebAfroStartDialog2=k.getContentRoot();this.$WebAfroStartDialog3=l;this.$WebAfroStartDialog4=c('DOM').find(this.$WebAfroStartDialog2,"._5wvv");this.$WebAfroStartDialog5=false;this.$WebAfroStartDialog6=false;this.$WebAfroStartDialog7=[];this.$WebAfroStartDialog8='';k.show();var m=c('Parent').bySelector(this.$WebAfroStartDialog2,"._5wvt"),n=c('DataAttributeUtils').getClickTrackingParent(l);if(n)m.setAttribute('data-ownerid',n.id);this.$WebAfroStartDialog9=new (c('SubscriptionsHandler'))();this.$WebAfroStartDialog9.addSubscriptions(k.subscribe('confirm',function(){c('FormSubmit').send(c('DOM').find(this.$WebAfroStartDialog2,'form'),this.$WebAfroStartDialog2);return false;}.bind(this)),c('Event').listen(this.$WebAfroStartDialog4,'click',function(o){new (c('AsyncRequest'))().setURI(this.$WebAfroStartDialog4.getAttribute('action')).setMethod('POST').setRelativeTo(this.$WebAfroStartDialog2).setData({context:this.$WebAfroStartDialog4.getAttribute('context')}).send(true);}.bind(this)),c('Arbiter').subscribeOnce('AfroDialog.delete',function(o,p){c('DOM').remove(this.findParentContainer());}.bind(this)),c('Arbiter').subscribe('AfroDialog.backButton',function(o,p){this.$WebAfroStartDialog4.setAttribute('action',p.href);this.$WebAfroStartDialog4.setAttribute('context',p.context);c('CSS').conditionShow(this.$WebAfroStartDialog4,p.show_back_button);}.bind(this)),c('Arbiter').subscribe('AfroDialog.actionExecuted',function(o,p){this.$WebAfroStartDialog7.push(p);}.bind(this)),c('Arbiter').subscribe('AfroDialog.messageRecipientName',function(o,p){this.$WebAfroStartDialog8=p;}.bind(this)),c('Arbiter').subscribeOnce('AfroDialog.needsThanks',function(){this.$WebAfroStartDialog5=true;}.bind(this)),c('Arbiter').subscribeOnce('AfroDialog.timelineNeedsThanks',function(){this.$WebAfroStartDialog6=true;}.bind(this)),k.subscribe('cancel',this.handleCloseButton.bind(this)),k.subscribe('button',this.handleDoneButton.bind(this)));}j.prototype.handleDoneButton=function(k,l){'use strict';if(c('CSS').matchesSelector(l,"._42fr"))return;this.$WebAfroStartDialog1.hide();this.updateStoryOnDone(l);this.dialogTearDown(l);c('Arbiter').inform('WebNFX/done',{});};j.prototype.updateStoryOnDone=function(k){'use strict';var l=k.getAttribute('data-hide-uri');if(l){var m=new (c('AsyncRequest'))().setURI(l).setMethod('POST').setRelativeTo(this.$WebAfroStartDialog3);m.send();}else if(this.$WebAfroStartDialog3){var n=c('DOM').scry(this.$WebAfroStartDialog3,'^.timelineUnitContainer')[0];if(n)if(this.$WebAfroStartDialog6)this.updateTimelineSuccess(n);}if(this.$WebAfroStartDialog5){var o=c('Parent').bySelector(this.$WebAfroStartDialog3,"._5wvy");if(!o)o=c('Parent').bySelector(this.$WebAfroStartDialog3,"._57uy");if(o){c('DOM').replace(c('DOM').find(o,"._5wvz"),i._("Thanks for letting us know."));c('DOM').remove(this.$WebAfroStartDialog3);var p=c('DOMQuery').scry(o,"._4p6i");p.forEach(function(q){c('DOM').remove(q);});}}};j.prototype.dialogTearDown=function(k){'use strict';this.$WebAfroStartDialog9.release();this.fireCloseLoggingRequest(k);c('Arbiter').inform('WebNFX/dialogClosed',{});};j.prototype.handleCloseButton=function(k,l){'use strict';this.dialogTearDown(l);};j.prototype.fireCloseLoggingRequest=function(k){'use strict';var l=c('DOMQuery').find(k,"^._59s7"),m=c('DOMQuery').find(l,"._ccy"),n=c('DOMQuery').find(l,"._3ihd"),o={context:m.value,actions_executed:this.$WebAfroStartDialog7,msg_recipient_name:this.$WebAfroStartDialog8,av:n.value};new (c('AsyncRequest'))().setURI('/ajax/feed/filter_action/nfx_client_log').setMethod('POST').setRelativeTo(k).setData(o).send();};j.prototype.updateTimelineSuccess=function(k){'use strict';new (c('AsyncRequest'))().setURI('/ajax/nfx/timeline_dialog_success.php').setMethod('POST').setRelativeTo(k).setData({success:true}).send(true);};j.prototype.findParentContainer=function(){'use strict';var k=c('DOM').scry(this.$WebAfroStartDialog3,'^.fbTimelineUnit')[0];if(!k)k=c('DOM').scry(this.$WebAfroStartDialog3,'^.fbFeedStory/root')[0];return k;};f.exports=j;}),null);
__d('WebDialogAfro',['csx','cx','Arbiter','AsyncRequest','CSS','DOM','DOMQuery','Event','Parent','$','highlight'],(function a(b,c,d,e,f,g,h,i){var j={informActionExecutedEnableDone:function k(l){c('Arbiter').inform('AfroDialog.actionExecuted',l);j.hideCancelButton();j.showDoneButton();j.enableDoneButton();},informMessageRecipientName:function k(l){c('Arbiter').inform('AfroDialog.messageRecipientName',l);},informBackButton:function k(l){c('Arbiter').inform('AfroDialog.backButton',l);},informDelete:function k(){c('Arbiter').inform('AfroDialog.delete');},informTimelineNeedsThanks:function k(){c('Arbiter').inform('AfroDialog.timelineNeedsThanks');},informNeedsThanks:function k(){c('Arbiter').inform('AfroDialog.needsThanks');},insertCompletedAction:function k(l,m){var n=c('Parent').bySelector(l,"._5er9");c('DOM').setContent(n,m);c('highlight')(m,null,null,'#fffade');},listenForInputLabelClicks:function k(l){var m=c('DOMQuery').scry(l,'.uiInputLabelLabel').concat(c('DOMQuery').scry(l,'.uiInputLabelInput'));for(var n=0;n<m.length;n++)c('Event').listen(m[n],'click',function(o){j.enableContinueButton();});},enableButtonWhenInputHasValue:function k(l,m){var n=function o(){if(m.value&&m.value.length>0){j.enableButton(l);}else j.disableButton(l);};c('Event').listen(m,'keyup',n);c('Event').listen(m,'change',n);},enableButton:function k(l){l.disabled=false;c('CSS').removeClass(l,"_42fr");},disableButton:function k(l){l.disabled=true;c('CSS').addClass(l,"_42fr");},enableContinueButton:function k(){j.enableButton(c('$')('nfx_dialog_continue'));},disableContinueButton:function k(){j.disableButton(c('$')('nfx_dialog_continue'));},enableDoneButton:function k(){j.enableButton(c('$')('nfx_dialog_done'));},disableDoneButton:function k(){j.disableButton(c('$')('nfx_dialog_done'));},hideDoneButton:function k(){var l=c('$')('nfx_dialog_done');l.style.display='none';},showDoneButton:function k(){var l=c('$')('nfx_dialog_done');l.style.display='';},hideBackButton:function k(){var l=c('$')('nfx_dialog_back');l.style.display='none';},hideCancelButton:function k(){var l=c('$')('nfx_dialog_cancel');l.style.display='none';},addTypeaheadActionListener:function k(l,m,n,o,p){c('Event').listen(l,'click',function(){return j.submitTypeaheadAction(l,m,n,o,p);});},submitTypeaheadAction:function k(l,m,n,o,p){l.disabled=true;c('CSS').addClass(l,"_42fr");var q={action_name:n,action_unique_label:o,context:p,typeahead_selected_id:m.value};new (c('AsyncRequest'))().setURI('/ajax/feed/filter_action/nfx_action_execute').setMethod('POST').setRelativeTo(l).setData(q).send();},markReportContentAction:function k(l){c('CSS').addClass(l,"_2t29");},submitContentReport:function k(l,m){var n=c('DOM').find(document.body,"._2t29");c('CSS').addClass(n,'async_saving');new (c('AsyncRequest'))().setURI(l).setMethod('POST').setRelativeTo(n).setData(m).send();},listenProminentActionClick:function k(l){c('Event').listen(l,'click',function(m){var n=m.getTarget(),o=c('CSS').matchesSelector(n,"._16gg"),p=c('DOMQuery').scry(n,"^._16gg");if(o||p.length>0)return;var q=c('DOMQuery').scry(n,"^._5er9");if(!q.length)return;var r=c('DOMQuery').scry(q[0],"._16gh");if(!r.length)return;r[0].click();});},enableUnblurContent:function k(l,m,n,o){var p=c('DOMQuery').find(m,'button');p.blur();var q=c('Parent').bySelector(m,"._4t2a");c('Event').listen(m,'click',function(s){c('CSS').addClass(q,"_35m2");c('CSS').addClass(q,"_46f9");});c('Event').listen(o,'click',function(s){c('CSS').removeClass(q,"_35m2");c('CSS').addClass(q,"_46f9");});var r=function s(t){c('CSS').removeClass(q,"_46f9");};c('Event').listen(l,'mouseout',r);c('Event').listen(n,'mouseout',r);},hitUriOnClose:function k(l){c('Arbiter').subscribeOnce('WebNFX/dialogClosed',function(m,n){new (c('AsyncRequest'))().setURI(l).setMethod('POST').send(true);});}};g.addTypeaheadActionListener=j.addTypeaheadActionListener;g.enableButtonWhenInputHasValue=j.enableButtonWhenInputHasValue;g.disableContinueButton=j.disableContinueButton;g.enableContinueButton=j.enableContinueButton;g.disableDoneButton=j.disableDoneButton;g.hideDoneButton=j.hideDoneButton;g.enableDoneButton=j.enableDoneButton;g.enableUnblurContent=j.enableUnblurContent;g.hideBackButton=j.hideBackButton;g.hitUriOnClose=j.hitUriOnClose;g.informActionExecutedEnableDone=j.informActionExecutedEnableDone;g.informBackButton=j.informBackButton;g.informDelete=j.informDelete;g.informMessageRecipientName=j.informMessageRecipientName;g.informNeedsThanks=j.informNeedsThanks;g.informTimelineNeedsThanks=j.informTimelineNeedsThanks;g.insertCompletedAction=j.insertCompletedAction;g.listenForInputLabelClicks=j.listenForInputLabelClicks;g.listenProminentActionClick=j.listenProminentActionClick;g.markReportContentAction=j.markReportContentAction;g.showDoneButton=j.showDoneButton;g.submitContentReport=j.submitContentReport;g.updateDoneButtonEnabledState=j.updateDoneButtonEnabledState;g.hideCancelButton=j.hideCancelButton;}),null);
__d('UIForm',['ArbiterMixin','BehaviorsMixin','DOM','Event','Form','Run','areJSONRepresentationsEqual','mixin'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin'),c('BehaviorsMixin')));i=h&&h.prototype;function j(k,l,m,n,o){'use strict';i.constructor.call(this);this._root=k;this.controller=k;this._message=l;if(n){this._confirm_dialog=n;n.subscribe('confirm',this._handleDialogConfirm.bind(this));c('DOM').prependContent(this._root,c('DOM').create('input',{type:'hidden',name:'confirmed',value:'true'}));}c('Run').onAfterLoad(function(){this._originalState=c('Form').serialize(this._root);}.bind(this));this._forceDirty=m;this._confirmed=false;this._submitted=false;c('Event').listen(this._root,'submit',this._handleSubmit.bind(this));if(o&&o.length)this.enableBehaviors(o);var p=true;c('Run').onBeforeUnload(this.checkUnsaved.bind(this),p);}j.prototype.getRoot=function(){'use strict';return this._root;};j.prototype._handleSubmit=function(){'use strict';if(this._confirm_dialog&&!this._confirmed){this._confirm_dialog.show();return false;}if(this.inform('submit')===false)return false;this._submitted=true;return true;};j.prototype._handleDialogConfirm=function(){'use strict';this._confirmed=true;this._confirm_dialog.hide();if(this._root.getAttribute('ajaxify')){c('Event').fire(this._root,'submit');}else if(this._handleSubmit())this._root.submit();};j.prototype.reset=function(){'use strict';this.inform('reset');this._submitted=false;this._confirmed=false;};j.prototype.isDirty=function(){'use strict';if(this._submitted||!c('DOM').contains(document.body,this._root))return false;if(this._forceDirty)return true;if(!this._originalState)return false;var k=c('Form').serialize(this._root);return !c('areJSONRepresentationsEqual')(k,this._originalState);};j.prototype.checkUnsaved=function(){'use strict';if(this.isDirty())return this._message;return null;};f.exports=b.UIForm||j;}),null);
__d('LayerDestroyOnHide',[],(function a(b,c,d,e,f,g){function h(i){'use strict';this._layer=i;}h.prototype.enable=function(){'use strict';var i=this._layer.destroy.bind(this._layer);this._subscription=this._layer.subscribe('hide',function(){setTimeout(i,0);});};h.prototype.disable=function(){'use strict';if(this._subscription){this._subscription.unsubscribe();this._subscription=null;}};Object.assign(h.prototype,{_subscription:null});f.exports=h;}),null);
__d('LayerRemoveOnHide',['DOM'],(function a(b,c,d,e,f,g){function h(i){'use strict';this._layer=i;}h.prototype.enable=function(){'use strict';this._subscription=this._layer.subscribe('hide',c('DOM').remove.bind(null,this._layer.getRoot()));};h.prototype.disable=function(){'use strict';if(this._subscription){this._subscription.unsubscribe();this._subscription=null;}};Object.assign(h.prototype,{_subscription:null});f.exports=h;}),null);